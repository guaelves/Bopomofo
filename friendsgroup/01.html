<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>ã„…çš„å¥½æœ‹å‹ é»é»å</title>
<style>
body {
  font-family: "Noto Sans TC", sans-serif;
  text-align: center;
  background: #f8f8f8;
  color: #333;
  max-width: 800px;
  margin: auto;
}

h1 {
  color: #00695c;
  margin-bottom: 0.2em;
}

.subtitle {
  font-size: 1.3em;
  color: #555;
  margin-bottom: 20px;
}

/* å¤§å¤§çš„ ã„… - æ­£æ–¹å½¢ æ·¡è—åº• */
.big-b {
  background: #bbdefb; /* æ·¡è— */
  color: #333;
  font-size: 16em; /* æ›´å¤§ */
  font-weight: bold;
  width: 200px;
  height: 200px; /* æ­£æ–¹å½¢ */
  margin: 0 auto 15px auto;
  border-radius: 15px;
  line-height: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

/* çµæœå€å¤–å±¤ï¼šæ©«æ’æ’åˆ— */
#result {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 30px;
}

/* æ¯å€‹çµæœï¼šç›´å¼æ’åˆ— ã„… åœ¨ä¸Šï¼Œç¬¦è™Ÿåœ¨ä¸‹ */
.result-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-weight: bold;
  font-size: 2.8em;
  color: #00695c;
  user-select: none;
}

/* ç”¨æ›´å¤§å­—é«”å€åˆ† ã„… å’Œç¬¦è™Ÿ */
.result-item .b-char {
  font-size: 1em;
  line-height: 1;
}

.result-item .friend-char {
  font-size: 1em;
  line-height: 1;
}

button {
  background: #009688;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 10px 20px;
  font-size: 1.2em;
  cursor: pointer;
  margin: 10px;
  transition: background 0.3s;
}

button:hover {
  background: #00796b;
}

/* === å…±ç”¨æ ¼å­æ¨£å¼ === */
.tile {
  background: white;
  border: 2px solid #ccc;
  border-radius: 10px;
  padding: 20px;
  font-size: 2em;
  cursor: pointer;
  transition: background 0.3s, transform 0.2s;
  user-select: none;
}

.tile:hover {
  transform: scale(1.05);
}

.correct {
  background: #d9fdd3; /* æ·¡ç¶  */
}

.wrong {
  background: #ffd6d6; /* æ·¡ç´… */
}

/* è²èª¿ç¬¦è™Ÿé»é¸æ·¡é»ƒåº• */
.tone-selected {
  background: #fff9c4; /* æ·¡é»ƒè‰² */
  border-color: #f0e68c;
}

.section-title {
  font-weight: bold;
  margin-top: 30px;
  color: #444;
}

/* === å››æ ¼æ’ç‰ˆ === */
.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin: 20px auto;
  max-width: 700px;
}

/* === è²èª¿äº”æ ¼æ’ç‰ˆï¼ˆèˆ‡å››æ ¼åŒå¯¬ï¼‰=== */
.grid-5 {
  display: grid;
  grid-template-columns: repeat(5, 0.8fr);
  gap: 10px;
  margin: 20px auto;
  justify-content: center;
  max-width: 700px;
}
</style>
</head>
<body>

<h1>ã„…çš„å¥½æœ‹å‹ é»é»å</h1>
<div class="subtitle">é¸å‡ºå¯ä»¥è·Ÿã„…ä¸€èµ·æ‹¼éŸ³çš„ç¬¦è™Ÿ</div>

<div class="big-b">ã„…</div>

<!-- æ–°å¢çµæœå€ï¼Œæ°´å¹³æ’åˆ— -->
<div id="result"></div>

<button id="resetBtn">ğŸ”„ é‡æ–°é–‹å§‹</button>

<!-- è²èª¿ç¬¦è™Ÿå€å¡Š -->
<div class="section-title">è²èª¿ç¬¦è™Ÿ</div>
<div class="grid-5">
  <div class="tile">ä¸€è²<br>ã€Œã€</div>
  <div class="tile">äºŒè²<br>ã€Œ/ã€</div>
  <div class="tile">ä¸‰è²<br>ã€ŒVã€</div>
  <div class="tile">å››è²<br>ã€Œï¹¨ã€</div>
  <div class="tile">è¼•è²<br>ã€ŒË™ã€</div>
</div>

<div class="section-title">ä»‹éŸ³</div>
<div class="grid">
  <div class="tile">ã„§</div>
  <div class="tile">ã„¨</div>
  <div class="tile">ã„©</div>
</div>

<div class="section-title">å–®éŸ»æ¯</div>
<div class="grid">
  <div class="tile">ã„š</div>
  <div class="tile">ã„›</div>
  <div class="tile">ã„œ</div>
  <div class="tile">ã„</div>
</div>

<div class="section-title">è¤‡éŸ»æ¯</div>
<div class="grid">
  <div class="tile">ã„</div>
  <div class="tile">ã„Ÿ</div>
  <div class="tile">ã„ </div>
  <div class="tile">ã„¡</div>
</div>

<div class="section-title">è²éš¨éŸ»æ¯</div>
<div class="grid">
  <div class="tile">ã„¢</div>
  <div class="tile">ã„£</div>
  <div class="tile">ã„¤</div>
  <div class="tile">ã„¥</div>
</div>

<div class="section-title">æ²èˆŒéŸ»æ¯</div>
<div class="grid">
  <div class="tile">ã„¦</div>
</div>

<div class="section-title">çµåˆéŸ»</div>
<div class="grid">
  <div class="tile">ã„§<br>ã„š</div>
  <div class="tile">ã„§<br>ã„›</div>
  <div class="tile">ã„§<br>ã„</div>
  <div class="tile">ã„§<br>ã„</div>
  <div class="tile">ã„§<br>ã„ </div>
  <div class="tile">ã„§<br>ã„¡</div>
  <div class="tile">ã„§<br>ã„¢</div>
  <div class="tile">ã„§<br>ã„£</div>
  <div class="tile">ã„§<br>ã„¤</div>
  <div class="tile">ã„§<br>ã„¥</div>
  <div class="tile">ã„¨<br>ã„š</div>
  <div class="tile">ã„¨<br>ã„›</div>
  <div class="tile">ã„¨<br>ã„</div>
  <div class="tile">ã„¨<br>ã„Ÿ</div>
  <div class="tile">ã„¨<br>ã„¢</div>
  <div class="tile">ã„¨<br>ã„£</div>
  <div class="tile">ã„¨<br>ã„¤</div>
  <div class="tile">ã„¨<br>ã„¥</div>
  <div class="tile">ã„©<br>ã„</div>
  <div class="tile">ã„©<br>ã„¢</div>
  <div class="tile">ã„©<br>ã„£</div>
  <div class="tile">ã„©<br>ã„¥</div>
</div>

<script>
  // ======== ç°¡å–®é›»è…¦éŸ³æ•ˆ ========
  function playBeep(frequency, duration) {
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.connect(gain);
    gain.connect(ctx.destination);
    osc.type = "sine";
    osc.frequency.value = frequency;
    gain.gain.setValueAtTime(0.1, ctx.currentTime);
    osc.start();
    osc.stop(ctx.currentTime + duration / 1000);
  }

  function playCorrect() {
    playBeep(880, 100);
    setTimeout(() => playBeep(1320, 100), 150);
  }

  function playWrong() {
    playBeep(220, 150);
    setTimeout(() => playBeep(150, 150), 200);
  }

  // ç°¡æ˜“ç…™ç«éŸ³æ•ˆï¼ˆå¤šå€‹é«˜éŸ³é€£çºŒï¼‰
  function playFireworks() {
    let freq = 1000;
    for (let i = 0; i < 5; i++) {
      setTimeout(() => playBeep(freq, 150), i * 200);
      freq += 200;
    }
  }

  // å¯è·Ÿ ã„… ä¸€èµ·æ‹¼éŸ³çš„ç¬¦è™Ÿæ¸…å–®
  const goodFriends = [
    "ã„§","ã„¨","ã„š","ã„›","ã„","ã„Ÿ","ã„ ","ã„¢","ã„£","ã„¤","ã„¥",
    "ã„§ã„","ã„§ã„ ","ã„§ã„¢","ã„§ã„£","ã„§ã„¥"
  ];

  const tiles = document.querySelectorAll('.tile');
  const resultDiv = document.getElementById('result');

  // ç´€éŒ„æ­£ç¢ºé»é¸çš„æ‹¼éŸ³ï¼Œä¾é †åºæ’åˆ—
  let selectedOrder = [];

  tiles.forEach(tile => {
    tile.addEventListener('click', () => {
      const text = tile.innerText.replace(/\n/g, '');
      const parentGrid = tile.parentElement;
      const isToneTile = parentGrid.classList.contains('grid-5');

      if (isToneTile) {
        // è²èª¿ç¬¦è™Ÿé»é¸åªåšè¦–è¦ºæ¨™ç¤º
        tile.classList.add('tone-selected');
        tile.classList.remove('correct', 'wrong');
      } else {
        tile.classList.remove('tone-selected');
        if (goodFriends.includes(text)) {
          if (!selectedOrder.includes(text)) {
            selectedOrder.push(text);

            // æ¸…ç©ºçµæœå€ï¼Œé‡æ–°ç”Ÿæˆæ©«å‘æ’åˆ—çš„ç›´å¼çµæœ
            resultDiv.innerHTML = '';
            selectedOrder.forEach(sym => {
              const div = document.createElement('div');
              div.classList.add('result-item');

              const bSpan = document.createElement('span');
              bSpan.classList.add('b-char');
              bSpan.textContent = 'ã„…';

              const friendSpan = document.createElement('span');
              friendSpan.classList.add('friend-char');
              friendSpan.textContent = sym;

              div.appendChild(bSpan);
              div.appendChild(friendSpan);
              resultDiv.appendChild(div);
            });
          }

          tile.classList.add('correct');
          tile.classList.remove('wrong');
          playCorrect();

          // å…¨éƒ¨é¸å°æ™‚é¡¯ç¤ºè¨Šæ¯ä¸¦æ’­æ”¾ç…™ç«éŸ³æ•ˆ
          if (selectedOrder.length === goodFriends.length) {
            resultDiv.innerHTML = '<div style="font-size: 2.5em; color: #00695c; font-weight: bold;">å…¨éƒ¨ç­”å° ğŸ‰ğŸ‰ğŸ‰</div>';
            playFireworks();
          }
        } else {
          tile.classList.add('wrong');
          tile.classList.remove('correct');
          playWrong();
        }
      }
    });
  });

  // é‡æ–°é–‹å§‹æŒ‰éˆ•æ¸…é™¤æ‰€æœ‰ç‹€æ…‹å’Œçµæœ
  document.getElementById('resetBtn').addEventListener('click', () => {
    tiles.forEach(tile => {
      tile.classList.remove('correct', 'wrong', 'tone-selected');
    });
    selectedOrder = [];
    resultDiv.innerHTML = '';
  });
</script>

</body>
</html>
